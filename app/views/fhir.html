<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'layout.html' %}
<!--
  In /views/layout.html you can:
    - change the header and footer
    - add custom CSS and JavaScript
-->

<!-- Set the page title -->
{% block pageTitle %}
  Terminology services
{% endblock %}

<!-- For adding a breadcrumb -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/breadcrumbs -->
{% block beforeContent %}
{% endblock %}

<!-- For adding a back link -->
<!-- Code examples can be found at https://service-manual.nhs.uk/design-system/components/back-link -->
{% block outerContent %}
{% endblock %}

<!-- For adding page content -->
<!-- Page layout code can be found at https://service-manual.nhs.uk/design-system/styles/layout -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">


      <!-- Change the page title here -->
      <h1>
      Terminology service API user guide
      </h1>

      <!-- Add your content here -->
      <!-- Styles and components can be found at https://service-manual.nhs.uk/design-system -->

      <p class="nhsuk-lede-text">
        How to search and read SNOMED CT electronic health record content using a FHIR API
      </p>
      <nav class="nhsuk-contents-list" role="navigation" aria-label="Pages in this guide">
        <h2 class="nhsuk-u-visually-hidden">Contents</h2>
        <ol class="nhsuk-contents-list__list">
          <li class="nhsuk-contents-list__item" aria-current="page">
            <a class="nhsuk-contents-list__link" href="overview">Overview</a>
          </li>
          <li class="nhsuk-contents-list__item">
            <a class="nhsuk-contents-list__link" href="Get started">Get started</a>
          </li>
          <li class="nhsuk-contents-list__item">
            <span class="nhsuk-contents-list__current">About FHIR APIs</span>
          </li>
          <li class="nhsuk-contents-list__item">
            <a class="nhsuk-contents-list__link" href="#">Sample API requests</a>
          </li>
          <li class="nhsuk-contents-list__item">
            <a class="nhsuk-contents-list__link" href="#">Terms of use</a>
          </li>
        </ol>
      </nav>

      <h2>About FHIR APIs</h2>
      <h3>Overview</h3>
      <p>Fast Healthcare Interoperability Resources (FHIR) is a standard for quickly and accurately transferring healthcare data between systems. FHIR features components called resources that can be used to define terminologies, as well as clear specifications for presenting terminologies.</p>
      <p>Working to this standard framework means that data can be shared more consistently wherever patient care is taking place. Read <a href="https://digitalhealth.wales/news/fhir-interoperability-wales" target="_blank">how NHS Wales is working with FHIR APIs (opens in a new tab)</a>.</p>
      <p>FHIR is free to use, and designed to be easy to understand and implement. You can find detailed <a href="http://hl7.org/fhir/summary.html" target="_blank"> information about FHIR specifications (opens in a new tab)</a> on the HL7 website.</p>
            <hr class="nhsuk-section-break nhsuk-section-break--l nhsuk-section-break--visible">
            <h3>FHIR APIs are built with resources</h3>
            <p>FHIR APIs are created from a standard framework of components called resources. Resources are the building blocks of every request.</p>
          </br>
            <table class="nhsuk-table">
            <caption class="nhsuk-table__caption">Types of FHIR API resource</caption>
            <thead role="rowgroup" class="nhsuk-table__head">
            <tr role="row">
            <th role="columnheader" class="" scope="col">
              Resource type
            </th>
            <th role="columnheader" class="" scope="col">
              What it is
            </th>
            </tr>
            </thead>
            <tbody class="nhsuk-table__body">
            <tr role="row" class="nhsuk-table__row">
            <td class="nhsuk-table__cell">CodeSystem</td>
            <td class="nhsuk-table__cell ">A collection of codes also known as an ontology or terminology</td>
            </tr>
            <tr role="row" class="nhsuk-table__row">
            <td class="nhsuk-table__cell">ValueSet</td>
            <td class="nhsuk-table__cell ">A specific subset of codes from the CodeSystem</td>
            </tr>
            <tr role="row" class="nhsuk-table__row">
            <td class="nhsuk-table__cell">ConceptMap</td>
            <td class="nhsuk-table__cell ">Defines the relationship between concepts, including from one CodeSystem to another</td>
            </tr>
            </tbody>
            </table>

            <div class="nhsuk-card">
  <div class="nhsuk-card__content">
    <p class="nhsuk-card__description"><b>Example</b>
    <p>These 3 resources work well together to build specific requests. For example, if you were creating an app that displays data about gender using data from NHS Wales and NHS England:</p>
    <ul>
        <li>the CodeSystem is the data dictionary item 'gender'</li>
        <li>the ValueSet includes all codes related to gender, such as 'female' and 'non-binary'</li>
        <li>the ConceptMap might then translate gender data from NHS Wales and NHS England into a consistent value, for example if NHS England combines 'non-binary' and 'unknown' as a single concept, but NHS Wales records them as separate concepts</li>
  </div>
</div>

      <p>Each resource is structured in the same way, with:</p>
            <ul>
            <li>a URL that identifies the resource</li>
            <li>common metadata</li>
            <li>an XHTML summary</li>
            <li>a set of defined data elements</li>
            <li>an extensibility framework to support variation in healthcare</li>
            </ul>
            <p>Read more in <a href="https://build.fhir.org/resource.html" target="_blank">HL7's FHIR overview of resources (opens in a new tab)</a>.</p>
            <hr class="nhsuk-section-break nhsuk-section-break--l nhsuk-section-break--visible">
            <h3>Creating actions with operations</h3>
            <p>Terminology FHIR APIs have a simple set of interactions like <code>READ</code> and <code>UPDATE</code> that follow the RESTful structure. To create an action or input and output content from resources, you use operations.</p>
            <p>Operations are structured by pairing the URL from the FHIR endpoint with the name of an operation, which is prefixed by a dollar symbol ($). For example:
            <p><code>GET http://exampleURL.com/path/ResourceType/id/$operation</code></p>
          </br>
            <table class="nhsuk-table">
            <caption class="nhsuk-table__caption">Types of operations</caption>
            <thead role="rowgroup" class="nhsuk-table__head">
            <tr role="row">
            <th role="columnheader" class="" scope="col">
              Resource
            </th>
            <th role="columnheader" class="" scope="col">
              Operation
            </th>
            <th role="columnheader" class="" scope="col">
              What it does
            </th>
            </tr>
            </thead>
            <tbody class="nhsuk-table__body">
            <tr role="row" class="nhsuk-table__row">
            <td class="nhsuk-table__cell">CodeSystem</td>
            <td class="nhsuk-table__cell "><code>$LOOKUP</code></td>
            <td class="nhsuk-table__cell ">Get information about the concept of a CodeSystem, including its defintion and status</td>

            </tr>
            <tr role="row" class="nhsuk-table__row">
            <td class="nhsuk-table__cell">ValueSet</td>
            <td class="nhsuk-table__cell "><code>$EXPAND</code></td>
            <td class="nhsuk-table__cell ">Create a simple collection of codes from the definition of the ValueSet</td>
            </tr>
            <tr role="row" class="nhsuk-table__row">
            <td class="nhsuk-table__cell">ConceptMap</td>
            <td class="nhsuk-table__cell "><code>$TRANSLATE</code></td>
            <td class="nhsuk-table__cell ">Translate a code from one ValueSet to another</td>
            </tr>
            <tr role="row" class="nhsuk-table__row">
            <td class="nhsuk-table__cell">ConceptMap</td>
            <td class="nhsuk-table__cell "><code>$CLOSURE</code></td>
            <td class="nhsuk-table__cell ">Return a ConceptMap that has a list of mappings of new entries to make in a closure table</td>
            </tr>
            </tbody>
            </table>
            <p>View the <a href="https://www.hl7.org/fhir/operations.html" target="_blank"> full list of available operations (opens in a new tab)</a>.</p>
            <h4>Expanding a ValueSet</h4>
            <P>The most common use case for the API is to search and retrieve specific SNOMED CT codes. You can do this using the <code>$expand</code> a ValueSet operation.</p>
              <p>The rules of this operation can be broad, like retrieving codes related to procedures. They can also be very specific, like retrieving codes for procedures by method. </p>
              <P></p>
            <p>You can <a href="https://documenter.getpostman.com/view/784165/ontoserver-51-example-fhir-terminology-requests/RW1hhG1S#802a4571-0930-0392-c6b3-7bd068a6dfe3" target="_blank">see some example <code>$expand</code> requests (opens in a new tab)</a> in action in a Postman environment on the Ontoserver website.</p>
      <p class="nhsuk-body-s nhsuk-u-secondary-text-color nhsuk-u-margin-top-7 nhsuk-u-margin-bottom-0">
  Page last reviewed: 23 May 2021</p>
      <nav class="nhsuk-pagination" role="navigation" aria-label="Pagination">
        <ul class="nhsuk-list nhsuk-pagination__list">
    <li class="nhsuk-pagination-item--previous">
      <a class="nhsuk-pagination__link nhsuk-pagination__link--prev" href="/overview">
        <span class="nhsuk-pagination__title">Previous</span>
        <span class="nhsuk-u-visually-hidden">:</span>
        <span class="nhsuk-pagination__page">Overview</span>
        <svg class="nhsuk-icon nhsuk-icon__arrow-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M4.1 12.3l2.7 3c.2.2.5.2.7 0 .1-.1.1-.2.1-.3v-2h11c.6 0 1-.4 1-1s-.4-1-1-1h-11V9c0-.2-.1-.4-.3-.5h-.2c-.1 0-.3.1-.4.2l-2.7 3c0 .2 0 .4.1.6z"></path>
        </svg>
      </a>
    </li>
        <ul class="nhsuk-list nhsuk-pagination__list">
                    <li class="nhsuk-pagination-item--next">
            <a class="nhsuk-pagination__link nhsuk-pagination__link--next" href="#">
              <span class="nhsuk-pagination__title">Next</span>
              <span class="nhsuk-u-visually-hidden">:</span>
              <span class="nhsuk-pagination__page">Sample API requests</span>
              <svg class="nhsuk-icon nhsuk-icon__arrow-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M19.6 11.66l-2.73-3A.51.51 0 0 0 16 9v2H5a1 1 0 0 0 0 2h11v2a.5.5 0 0 0 .32.46.39.39 0 0 0 .18 0 .52.52 0 0 0 .37-.16l2.73-3a.5.5 0 0 0 0-.64z"></path>
              </svg>
            </a>
          </li>
        </ul>
      </nav>
      <!-- End of content -->

    </div>
  </div>
{% endblock %}
